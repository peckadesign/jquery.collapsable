/*! jQuery Collapsable 2.0.8 | MIT | Radek Šerý, http://zipper.github.io/jquery.collapsable/ */

!function(a){function b(){return"ca-uid-"+m++}function c(b){if("string"!=typeof b)return!1;try{a(b)}catch(a){return!1}return!0}function d(b,c){var d=[];this.each(function(){var e=a(this).data("collapsable");if(e){var f=e.parent.uid;-1===d.indexOf(f)&&(d.push(f),e.parent[b](c))}})}function e(){var b=this.opts;(this.$extLinks=a(b.extLinks.selector).filter("a")).length&&this.$extLinks.on("click.collapsable",function(c){b.extLinks.preventDefault&&c.preventDefault();var d=a(a(this).attr("href")).data("collapsable");d&&d.$controlLink.first().trigger(b.event+".collapsable",c)})}function f(){var b=window.location.href,d=b.search(/#/),e=-1,f=-1,g=a(a.map(this.items,function(a){return a.$collapsable.get()}));if(!(-1!==d&&b.length>d&&(b=b.substring(d),c(b)&&-1!==(f=g.index(a(b)))&&(this.items[f].defaultExpanded=!0,this.opts.accordion)))){if(this.opts.accordion){if(-1!==(e=g.index(g.filter("."+this.opts.classNames.defaultExpanded))))return void(this.items[e].defaultExpanded=!0)}else{var h=this;g.each(function(b){a(this).hasClass(h.opts.classNames.defaultExpanded)&&(e=b,h.items[b].defaultExpanded=!0)})}-1!==f||-1!==e||this.opts.collapsableAll||(this.items[0].defaultExpanded=!0)}}function g(){var b=a.Event("init.collapsable"),c=this.opts,d=this.items,e=c.fx;c.fx&&(c.fx="toggle");for(var f=d.length,g=!c.collapsableAll,h=0;h<f;h++)d[h].defaultExpanded?(d[h].expand(b,null,g),g=!1):d[h].collapse(b,null,!0);c.fx=e}function h(){var a=this.opts;"slide"!==a.fx&&"fade"!==a.fx||(a.fxDuration=a.fxDuration||500),"slide"===a.fx?a.fx={expand:"slideDown",collapse:"slideUp"}:"fade"===this.opts.fx&&(a.fx={expand:"fadeIn",collapse:"fadeOut"})}function i(){var c=this;c.id||(c.id=b(),c.$collapsable.attr("id",this.id));var d=[];c.$box.each(function(b){var e=a(this),f=e.attr("id")||c.id+"-ca-box-"+b;e.attr("id",f).data("ca-pre-init-style",a(this).attr("style")),d.push(f)}),c.$control.each(function(){var b,e=a(this);e.is("a")?b=e:(b=e.find("a")).length||(e.wrapInner('<a data-ca-created href="#'+c.id+'"></a>'),b=e.find("a")),b.addClass("ca-link"),b.attr("aria-controls",d.join(" ")),"#"===b.attr("href")&&b.attr("href","#"+c.id)})}function j(b,c,d){var e=this.parent.opts,f=this,g="expanded",h=e.classNames.expanded,i=e.classNames.collapsed;"collapse"===b&&(g="collapsed",h=e.classNames.collapsed,i=e.classNames.expanded);var j=a.Event(g+".collapsable",{customData:d,collapsableEvent:c});return this.isExpanded="expand"===b,this.parent.$extLinks.filter('[href="#'+this.id+'"]')["expand"===b?"addClass":"removeClass"](e.classNames.extLinkActive),this.$controlLink.attr("aria-expanded","expand"===b),this.$box.attr("aria-hidden","expand"!==b),e.fx&&"object"==typeof e.fx?this.$box[e.fx[b]](e.fxDuration,function(){f.$collapsable.trigger(j)}):("toggle"===e.fx&&this.$box["expand"===b?"show":"hide"](),setTimeout(function(){f.$collapsable.trigger(j)},e.fxDuration)),this.$collapsable.removeClass(i).addClass(h),!0}var k={control:".ca-control",box:".ca-box",event:"click",preventDefault:!0,fx:null,fxDuration:0,accordion:!1,collapsableAll:!0,extLinks:{selector:"",preventDefault:!1},classNames:{expanded:"ca-expanded",collapsed:"ca-collapsed",defaultExpanded:"ca-default-expanded",extLinkActive:"ca-ext-active"}},l={init:function(a){return new n(this,a)},expandAll:function(a){d.call(this,"expandAll",a)},collapseAll:function(a){d.call(this,"collapseAll",a)},destroy:function(a){d.call(this,"destroy",a)}},m=0,n=function(c,d){if(0===c.length)return null;this.opts=a.extend(!0,{},a.fn.collapsable.defaults,d),this.items=[];var i=this;return this.uid=b(),this.promiseOpen=!1,e.call(this),h.call(this),c.each(function(){var a=new o(i,this);a.$box.length&&a.$control.length&&i.items.push(a)}),f.call(this),g.call(this),this};n.prototype.getExpanded=function(){for(var a=[],b=this.items.length,c=0;c<b;c++)this.items[c].isExpanded&&a.push(c);return a},n.prototype.expandAll=function(b){if(!this.opts.accordion||!this.getExpanded().length)for(var c=a.Event("expandAll.collapsable"),d=this.items.length,e=0;e<d;e++)if(!this.items[e].isExpanded){var f=this.items[e].expand(c,b);if(this.opts.accordion&&f)break}},n.prototype.collapseAll=function(b){for(var c=a.Event("collapseAll.collapsable"),d=this.getExpanded(),e=d.length,f=0;f<e;f++)this.items[d[f]].collapse(c,b)},n.prototype.destroy=function(){for(var b=this.opts,c=this.items.length,d=0;d<c;d++){var e=this.items[d];e.$collapsable.removeClass(b.classNames.collapsed+" "+b.classNames.expanded).removeData("collapsable"),e.$control.find("[data-ca-created]").each(function(){a(this).parent().html(a(this).html())}),e.$control.find(".ca-link").addBack(".ca-link").off(b.event+".collapsable").removeClass("ca-link").removeAttr("aria-controls").removeAttr("aria-expanded"),e.$box.each(function(){var b=a(this).data("ca-pre-init-style")||"";a(this).attr("style",b)}).removeData("ca-pre-init-style").removeAttr("aria-hidden"),e.$collapsable.trigger("destroy.collapsable")}this.$extLinks.off("click.collapsable")};var o=function(b,c){if(this.parent=b,this.$collapsable=a(c),this.id=this.$collapsable.attr("id"),this.$control=this.$collapsable.find(b.opts.control),this.$box=this.$collapsable.find(b.opts.box),0===this.$control.length||0===this.$box.length)return null;this.isExpanded=!0;var d=this,e=this.parent.opts;return i.call(this),this.$controlLink=this.$control.find(".ca-link").addBack(".ca-link"),this.$controlLink.on(e.event+".collapsable",function(a,b){var c=b||a;e.preventDefault&&a.preventDefault(),d.isExpanded?d.collapse(c):d.expand(c)}),this.$collapsable.data("collapsable",this),this};o.prototype.expand=function(b,c,d){var e=this.parent.opts,f=this.parent.getExpanded();if(this.parent.promiseOpen=!0,e.accordion&&f.length&&!1===this.parent.items[f[0]].collapse(b,c,d))return this.parent.promiseOpen=!1,!1;this.parent.promiseOpen=!1;var g=a.Event("expand.collapsable",{customData:c,collapsableEvent:b});return this.$collapsable.trigger(g),g.isDefaultPrevented()&&!d?(!e.collapsableAll&&e.accordion&&this.parent.items[f[0]].expand(b,c,!0),!1):j.call(this,"expand",b)},o.prototype.collapse=function(b,c,d){if(!this.parent.opts.collapsableAll&&!this.parent.promiseOpen&&this.parent.getExpanded().length<2)return!1;var e=a.Event("collapse.collapsable",{customData:c,collapsableEvent:b});return this.$collapsable.trigger(e),!(e.isDefaultPrevented()&&!d)&&j.call(this,"collapse",b)},a.fn.collapsable=function(b){return l[b]?l[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.collapsable"):(l.init.apply(this,arguments),this)},a.fn.collapsable.defaults=k}(jQuery);